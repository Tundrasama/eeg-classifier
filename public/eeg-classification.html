<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>EEG Classifier</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="css/newstyle.css" />
  </head>
  <body>
    <form action="/eeg-classification" method="POST" id="classForm">
      <div class="grid-container">
        <div class="Header">
          <p>Image X of 1500</p>
        </div>
        <div class="Montage">
          <p>Montage</p>
          <input type="radio" name="montage" value="bipolar" />
          <label>Bipolar</label>
          <input type="radio" name="montage" value="average" />
          <label>Average</label>
        </div>
        <div class="Pass">
          <p>Pass</p>
        </div>
        <div class="Select-All">
          <p><u>Select All Channels</u></p>
          <input
            type="checkbox"
            name="select_all"
            class="selectall"
            id="select_all"
          />
        </div>
        <div class="Select-Channel">
          <p><u>Select All - Channel (#)</u></p>
          <div class="input-check-channel">
            <input
              type="checkbox"
              name="channel_1_select_all"
              id="select_channel_1"
            /><br />
            <input
              type="checkbox"
              name="channel_2_select_all"
              id="select_channel_2"
            /><br />
            <input
              type="checkbox"
              name="channel_3_select_all"
              id="select_channel_3"
            /><br />
            <input
              type="checkbox"
              name="channel_4_select_all"
              id="select_channel_4"
            /><br />
            <input
              type="checkbox"
              name="channel_5_select_all"
              id="select_channel_5"
            /><br />
          </div>
        </div>
        <div class="Select-Ind">
          <p style="text-align: left;"><u>Select Channel</u></p>
          <div class="input-check-ind" id="checklist1">
            <input
              type="checkbox"
              class="channel1"
              name="channel_1"
              value=true
            />Fp1-F7
            <br />
            <input
              type="checkbox"
              class="channel1"
              name="channel_2"
              value=true
            />F7-T3
            <br />
            <input
              type="checkbox"
              class="channel1"
              name="channel_3"
              value=true
            />T3-T5
            <br />
            <input
              type="checkbox"
              class="channel1"
              name="channel_4"
              value=true
            />T5-O1
            <br />
            <br />
          </div>
          <div class="input-check-ind" id="checklist2">
            <input
              type="checkbox"
              class="channel2"
              name="channel_5"
              value=true
            />Fp2-F8
            <br />
            <input
              type="checkbox"
              class="channel2"
              name="channel_6"
              value=true
            />F8-T4
            <br />
            <input
              type="checkbox"
              class="channel2"
              name="channel_7"
              value=true
            />T4-T6
            <br />
            <input
              type="checkbox"
              class="channel2"
              name="channel_8"
              value=true
            />T6-O2
            <br />
            <br />
          </div>
          <div class="input-check-ind" id="checklist3">
            <input
              type="checkbox"
              class="channel3"
              name="channel_9"
              value=true
            />Fp1-F3
            <br />
            <input
              type="checkbox"
              class="channel3"
              name="channel_10"
              value=true
            />F3-C3
            <br />
            <input
              type="checkbox"
              class="channel3"
              name="channel_11"
              value=true
            />C3-P3
            <br />
            <input
              type="checkbox"
              class="channel3"
              name="channel_12"
              value=true
            />P3-O1
            <br />
            <br />
          </div>
          <div class="input-check-ind" id="checklist4">
            <input
              type="checkbox"
              class="channel4"
              name="channel_13"
              value=true
            />Fp2-F4
            <br />
            <input
              type="checkbox"
              class="channel4"
              name="channel_14"
              value=true
            />F4-C4
            <br />
            <input
              type="checkbox"
              class="channel4"
              name="channel_15"
              value=true
            />C4-P4
            <br />
            <input
              type="checkbox"
              class="channel4"
              name="channel_16"
              value=true
            />P4-O2
            <br />
            <br />
          </div>
          <div class="input-check-ind" id="checklist5">
            <input
              type="checkbox"
              class="channel5"
              name="channel_17"
              value=true
            />Fz-Cz
            <br />
            <input
              type="checkbox"
              class="channel5"
              name="channel_18"
              value=true
            />Cz-Pz
            <br />
            <br />
          </div>
        </div>
        <div class="Images">
          
          <!-- may want to constrain the image or adjust the checkboxes to match up with the image -->
          <!-- src="media/eeg-picture.JPG" -->
          <img
            src="media/eeg-picture.JPG"
            alt="eeg-picture"
            style="width:1400px;height:580px;"
            class="currImage"
          />
          <p>Image X of 1500</p>
        </div>
        <div class="Frequencies">
          <p>Frequency (Hz)</p>
          <input type="radio" name="frequency" value="freq_1" />
          <label>&lt;0.5</label>
          <input type="radio" name="frequency" value="freq_2" />
          <label>0.5</label>
          <input type="radio" name="frequency" value="freq_3" />
          <label>1.0</label>
          <input type="radio" name="frequency" value="freq_4" />
          <label>1.5</label>
          <input type="radio" name="frequency" value="freq_5" />
          <label>2.0</label>
          <input type="radio" name="frequency" value="freq_6" />
          <label>2.5</label>
          <input type="radio" name="frequency" value="freq_7" />
          <label>3.0</label>
          <input type="radio" name="frequency" value="freq_8" />
          <label>3.5</label>
          <input type="radio" name="frequency" value="freq_9" />
          <label>&ge;4.0</label>
        </div>

        <div class="LPD-Header"><u>LPD</u>
          <input
          type="checkbox"
          class="LPD-CLASSIFICATION"
          name="LPD-CLASSIFICATION"
          value="LPD"
          id="LPD-CHECK"
        /></div>
        <div class="GPD-Header"><u>GPD</u>
          <input
          type="checkbox"
          class="GPD-CLASSIFICATION"
          name="GPD-CLASSIFICATION"
          value="GPD"
          id="GPD-CHECK"
        /></div>
        <div class="LPD2-Header"><u>LPD2</u>
          <input
          type="checkbox"
          class="LPD2-CLASSIFICATION"
          name="LPD2-CLASSIFICATION"
          value="LPD2"
          id="LPD2-CHECK"
        /></div>

        <div class="LPD" id="LPD">
          <div class="LPD-Type">
            <p><u>Type</u></p>
            <label>
              <input type="radio" name="lpd_type" value="lpd_type_1" />
              U/I</label
            >
            <label>
              <input type="radio" name="lpd_type" value="lpd_type_2" />
              B/I asym</label
            >
          </div>
          <div class="LPD-Predom-ln1">
              <label><p></p><u>Predominance</u> </p></label>
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-L"
                value="L"
              />
              L</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-F"
                value="F"
              />
              F</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-P"
                value="P"
              />
              P</label
            >
            <label>
              <input
                type="checkbox"
                name="LPD-PRE-All"
                id="LPD-Predom-Sel-All"
                value="All"
              />
              All</label
            >
          </div>

          <div class="LPD-Predom-ln2">
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-R"
                value="R"
              />
              R</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-T"
                value="T"
              />
              T</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD-PREDOM"
                name="LPD-PRE-O"
                value="O"
              />
              O</label
            >
          </div>
        </div>
        <div class="GPD" id="GPD">
          <div class="GPD-Predom-ln1">
              <label><p></p><u>Predominance</u> </p></label>
          </div>
          <div class="GPD-Predom-ln2">
            <input type="checkbox" name="GPD-PREDOM-Frontal" value="Frontal" />
            <label>Frontal</label>
            <input
              type="checkbox"
              name="GPD-PREDOM-Occipital"
              value="Occipital"
            />
            <label>Occipital</label><br />
            <input type="checkbox" name="GPD-PREDOM-Midline" value="Midline" />
            <label>Midline</label>
            <input
              type="checkbox"
              name="GPD-PREDOM-Generalized"
              value="Generalized"
            />
            <label>Generalized</label>
          </div>
        </div>
        <div class="LPD2" id="LPD2">
          <div class="LPD-2-Type">
            <p><u>Type</u></p>
            <label>
              <input type="radio" name="lpd2_type" value="lpd2_type_1" />
              U/I</label
            >
            <label>
              <input type="radio" name="lpd2_type" value="lpd2_type_2" />
              B/I asym</label
            >
          </div>
          <div class="LPD-2-Predom-ln1">
            <label><p></p><u>Predominance</u> </p></label>
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-L"
                value="L"
              />
              L</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-F"
                value="F"
              />
              F</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-P"
                value="P"
              />
              P</label
            >
            <label>
              <input
                type="checkbox"
                name="LPD2-PRE-All"
                id="LPD2-Predom-Sel-All"
                value="All"
              />
              All</label
            >
          </div>
          <div class="LPD-2-Predom-ln2">
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-R"
                value="R"
              />
              R</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-T"
                value="T"
              />
              T</label
            >
            <label>
              <input
                type="checkbox"
                class="LPD2-PREDOM"
                name="LPD2-PRE-O"
                value="O"
              />
              O</label
            >
          </div>
        </div>
        <div class="Submit">
          <input type="submit" class="button" name="submit" value="Submit" id="submit">
          <input type="submit" class="button" name="not_lpd_gpd" value="Not LPD/GPD"></button>
          <input type="submit" class="button" name="pass" value="Pass"></button>
          
        </div>
        
      </div>
    </form>
    <script>
// JAVASCRIPT
/// Need a function to return all controls to a default status
  $(document).ready(function() {

        $('#select_all').click(function() {
          $('.input-check-channel input').prop('checked',this.checked);
          $('.input-check-ind input').prop('checked',this.checked);
        });

        $('.input-check-channel input').click(function(e) {
          // console.log(e.target.id + ' ' + this.checked);
          // console.log('#checklist' + e.target.id.replace('select_channel_',''));
          $('#checklist' + e.target.id.replace('select_channel_','') + ' :input').prop('checked',this.checked);
          var selected = [];
          $('.input-check-channel input:checked').each(function() {
              selected.push($(this).attr('name'));
          });
          if (selected.length==5) {
            $('#select_all').prop('checked',this.checked);
          } else {
            $('#select_all').prop('checked',false);
          }
        });

  //TODO: can improve below
        // TODO: Need the All checkbox in predominance sections to selec tother items
        // haven't added functionality for ind checkboxes to uncheck the all
        $('#LPD-Predom-Sel-All').click(function() {
          $(this.form.elements)
            .filter('.LPD-PREDOM')
            .prop('checked', this.checked);
          $('input[name=select_all]').attr('checked', false);
        });
        $('#LPD2-Predom-Sel-All').click(function() {
          $(this.form.elements)
            .filter('.LPD2-PREDOM')
            .prop('checked', this.checked);
          $('input[name=select_all]').attr('checked', false);
        });

        disableDiv('#LPD');
        disableDiv('#GPD');
        disableDiv('#LPD2');
  // could disable controls until a selection is made
  // LPD Classification Checked -- disable GPD and LPD2
        function disableDiv(ctrl){
          $(ctrl).fadeTo('fast',.49);
          document.getElementById(ctrl.replace("#","")+'-CHECK').checked=false;
          unCheck(ctrl)
        }

        function unCheck(ctrl){
          $(ctrl).find(':input').prop({checked:false,disabled:true});
        }

        function enableDiv(ctrl){
          $(ctrl).fadeTo('fast',1);
          $(ctrl).find(':input').prop('disabled',false);
        }

        document.getElementById('LPD-CHECK').onclick = function(){
          enableDiv("#LPD");
          console.log(this.checked)
          if (this.checked==false) {
            enableDiv("#GPD");
            enableDiv("#LPD2");
          } else {
            disableDiv('#GPD');
            disableDiv('#LPD2');
          }
        }
        document.getElementById('GPD-CHECK').onclick = function(){
          enableDiv("#GPD");
          if (this.checked==false) {
            enableDiv('#LPD');
            enableDiv('#LPD2');
          } else {
            disableDiv('#LPD');
            disableDiv('#LPD2');
          }
        }
        document.getElementById('LPD2-CHECK').onclick = function(){
          enableDiv("#LPD2");
          if (this.checked==false) {
            enableDiv('#GPD');
            enableDiv('#LPD');
          } else {
            disableDiv('#GPD');
            disableDiv('#LPD');
          }
        }
      })
    </script>
  </body>
</html>
